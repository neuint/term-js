{"version":3,"file":"index.js","sources":["../../../node_modules/style-inject/dist/style-inject.es.js","../src/StatusBar/StatusView/index.ts","../src/StatusBar/constants.ts","../src/StatusBar/index.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { TemplateEngine } from '@neuint/term-js';\n\nimport template from './template.html';\nimport css from './index.scss';\n\nimport IStatusView from './IStatusView';\n\nclass StatusView extends TemplateEngine implements IStatusView {\n  private iconField = '';\n\n  public set icon(val: string) {\n    this.iconField = val;\n    this.render();\n  }\n\n  public get icon(): string {\n    return this.iconField;\n  }\n\n  private textField = '';\n\n  public set text(val: string) {\n    this.textField = val;\n    this.render();\n  }\n\n  public get text(): string {\n    return this.textField;\n  }\n\n  private isRendered = false;\n\n  constructor(container: HTMLElement) {\n    super(template, container);\n  }\n\n  render() {\n    const { icon, text, isRendered } = this;\n    super.render({ css, icon, text }, isRendered ? { replace: this } : {});\n    this.isRendered = true;\n  }\n}\n\nexport default StatusView;\n","export const PLUGIN_NAME = 'status-bar-plugin';\n","import { Plugin, ITermInfo, IKeyboardShortcutsManager } from '@neuint/term-js';\n\nimport './theme.scss';\n\nimport IStatusBar from './IStatusBar';\nimport StatusView from './StatusView';\nimport IStatusView from './StatusView/IStatusView';\nimport { PLUGIN_NAME } from './constants';\n\nexport { default as IStatusBar } from './IStatusBar';\n\nclass StatusBar extends Plugin implements IStatusBar {\n  public readonly name: string = PLUGIN_NAME;\n\n  private text = '';\n\n  private icon = '';\n\n  private view?: IStatusView;\n\n  public set status(val: { text: string; icon?: string }) {\n    const { view } = this;\n    this.text = val.text;\n    this.icon = val.icon || '';\n    if (view) {\n      view.icon = this.icon;\n      view.text = this.text;\n    }\n  }\n\n  public get status(): { text: string; icon?: string } {\n    const { text, icon } = this;\n    return { text, icon };\n  }\n\n  public setTermInfo(termInfo: ITermInfo, keyboardShortcutsManager: IKeyboardShortcutsManager) {\n    super.setTermInfo(termInfo, keyboardShortcutsManager);\n    this.setView();\n  }\n\n  public updateTermInfo(termInfo: ITermInfo) {\n    super.updateTermInfo(termInfo);\n    this.setView();\n  }\n\n  public destroy() {\n    const { view } = this;\n    if (view) view.destroy();\n    super.destroy();\n  }\n\n  private setView() {\n    const { termInfo, text, icon, view } = this;\n    if (!termInfo) return;\n    const { root } = termInfo.elements;\n    if (!root || view) return;\n    this.view = new StatusView(root as HTMLElement);\n    this.view.text = text;\n    this.view.icon = icon;\n    this.view.render();\n  }\n}\n\nexport default StatusBar;\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode"],"mappings":"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"}