import{useState as e,useRef as r,useEffect as n}from"react";import{createPortal as t}from"react-dom";import i from"@neuint/context-menu-plugin";const u=u=>{const{term:o,children:c,escHide:d,aroundClickHide:a,onHide:l}=u,[g,m]=e(),s=r(new i(o.pluginManager)),p=r({escHide:d,aroundClickHide:a,onHide:l});return n((()=>{const{current:e}=s;return o.pluginManager.register(e),()=>{o.pluginManager.unregister(e)}}),[o.pluginManager]),n((()=>{p.current={escHide:d,aroundClickHide:a,onHide:l}}),[a,d,l]),n((()=>{c?(s.current.show("",p.current.target,p.current),m(document.querySelector(".ContextMenuView"))):(m(void 0),s.current.hide())}),[c,m]),g&&c?t(c,g):null};export{u as default};
